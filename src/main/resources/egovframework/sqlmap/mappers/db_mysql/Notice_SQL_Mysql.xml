<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="noticeDAO">
	<!-- 공지사항 목록 -->
	<select id="noticeDAO.selectNoticeList" parameterType="noticeVO" resultType="noticeVO">
	    <![CDATA[
	    SELECT * 
	    FROM NOTICE
	    WHERE SUBJECT LIKE CONCAT('%', #{searchKeyword},'%') OR WRITER LIKE CONCAT('%', #{searchKeyword},'%')
	    ORDER BY DATE DESC, SUBJECT DESC
	    LIMIT ${recordCountPerPage} OFFSET ${firstIndex}
	    ]]>
	</select>
	<!-- //공지사항 목록 -->
	
	<!-- 공지사항 목록 갯수-->
	<select id="noticeDAO.selectNoticeListCnt" parameterType="noticeVO" resultType="int">
	    <![CDATA[
	    SELECT COUNT(*) 
	    FROM NOTICE
	    WHERE SUBJECT LIKE CONCAT('%', #{searchKeyword},'%') OR WRITER LIKE CONCAT('%', #{searchKeyword},'%')
	    ]]>
	</select>
	<!-- //공지사항 목록 갯수-->
	<!-- 공지사항 상세-->
	<select id="noticeDAO.selectNoticeView" parameterType="noticeVO" resultType="noticeVO">
	    <!-- 특수문자 치환, 안해주면 찾기 힘들어서 -->
	    <![CDATA[
	    SELECT * FROM NOTICE
	    WHERE SEQ = #{seq}
	    ]]>
	</select>
	<!-- //공지사항 상세-->
</mapper>